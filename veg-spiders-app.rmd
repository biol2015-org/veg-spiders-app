---
output: html_document
runtime: shiny
---

<style type="text/css">
.main-container {
max-width: 1800px;
margin-left: auto;
margin-right: auto;
}
</style>

```{r global, include=FALSE}

# load required packages
library(esquisse)
library(readxl)
library(shiny)
library(tidyverse) # always last to avoid conflicts

# prevent r errors etc. appearing to user
knitr::opts_chunk$set(echo = FALSE)

dat_raw <- read_excel("data/processed_2023_M2-A1-A2_data.xlsx",
                      sheet = "veg_data")

dat <- dat_raw %>% 
  mutate(year = as_factor(year))

```

# Module 2 --- soil, vegetation and spiders
### BIOL2015 Field Ecology
###### v2.0 | 12/05/2024 | jwh  

```{r esquisse, echo=FALSE}

renderUI(
  esquisse_ui(id = "main")
)

esq_rv <- esquisse_server(id = "main",
                          data_rv = dat,
                          name = "dat")
# reactive value output claims to have three slots for code_filter, code_plot
# and data, but the data slot has always been empty in testing -- therefore
# no summary dataset shown below esquisse UI in this version

```

```{r exit-and-scratch, echo=FALSE}

knitr::knit_exit()

```


